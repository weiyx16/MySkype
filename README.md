## MySkype

**程序框架**
Vs15+C#+.Net Framework4.5.2

**测试环境**
Win10+Tsinghua校园网

**使用指南**
点击exe目录下的exe文件后输入账户和密码即可登录主界面。（可以打开IP更改界面，但没有必要）

登录后，点击左侧输入框输入聊天对象账号，点击搜索键即可搜索。如果对方在线即可发起聊天。
不退出当前聊天则无法接收第三方信息，开始新聊天。

点击文本框上方的四个按键可以分别发送表情/文件/截图/查询与该好友的历史记录。
截图方式有两种：点击是，则自动截取全部客户端界面复制到文本框中，点击否，则可以打开系统截图软件，
截完图后自动放入文本框，如果没有，可以尝试点击截图软件的复制按钮。

在文本框中可以输入文本并点击发送，同时发送之前的截图信息。
点击Quit Current按钮可以保存本次聊天并接收新用户连接请求。点击右上角图标可以退出，当然也可以强制关闭，
强制退出也可以在服务器登出，但没有保存本次聊天记录的功能。
  
点击左侧刷新键可以刷新之前聊天过的好友列表以及最后一次消息内容及时间。

**文件说明**
在exe文件同级目录下存放下载文件（Download）/上传图片（Deliver）/聊天记录（Recode），每一个用户有一个单独文件夹。
此外同级目录下同样存放了emoji文件夹，存了一些gif表情。
MySkype文件夹下为源码，里面也有debug版本的exe。
说明一下源文件中各个文件的作用：
Change_IP-更改IP和端口的界面
EmojiBox-弹出窗口选择表情的窗口
Form1-登录界面，Form2-主界面
Frd_Dialog-在自己界面显示对方发送的消息orEmoji的控件
Self_Dialog-在自己界面显示自己发送的消息orEmoji的控件
Frd_Files-在自己界面显示对方发送的文件及接收进度的控件
Self_Files-在自己界面显示自己发送的文件及发送进度的控件
Glb_Value-一个存了一些全局信息的类，包括服务器地址，用户信息，用户此刻状态等等
Hist_Dialog-显示聊天记录的窗口
historybox-显示好友列表的控件，显示在主界面的左侧
MyMessageBox-自己写的类似于MessageBox的窗口，主要实现了跟随鼠标显示位置

**重要提示**
如果出现程序未响应，一般都是服务器连接或P2P连接失败了，稍等片刻（10s左右）即会弹出提示信息并恢复正常，请助教原谅。
连接失败的概率可能与当时网络环境有较大的关系，在测试中出现时好时坏的情况。
由于程序鲁棒性没有那么理想，最重要的是麻烦助教请联系开发者！
/******/
自62班韦毅轩同学  
微信：w674945066
邮件：weiyx16@mails.tsinghua.edu.cn
电话：18800120175
/******/
感谢助教辛苦批改了！
